(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),i=(a(33),a(3)),l=a(4),s=a(5),u=a(6),m=a(7),d=a(44),h=a(18),p=a(12),f=a(43),g=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(f.a,{className:"navbar-brand",to:"/"},"\u041f\u0417\u041a\u0421-2"),r.a.createElement("div",{className:"navbar",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{className:"nav-link",activeClassName:"active",to:"/tasks"},"\u0413\u0440\u0430\u0444 \u0437\u0430\u0434\u0430\u0447 ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{className:"nav-link",activeClassName:"active",to:"/cs"},"\u0413\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{exact:!0,className:"nav-link disabled",activeClassName:"active",to:"/model"},"\u041c\u043e\u0434\u0435\u043b\u044e\u0432\u0430\u043d\u043d\u044f")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{exact:!0,className:"nav-link disabled",activeClassName:"active",to:"/stats"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")))))},v=a(45),b=a(25),E=a(16),y=a(10),w=a(46),k=a(11),N=a(13),O=(a(40),1),j=2,C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).locales={uk:{edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0443",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0432'\u044f\u0437\u043e\u043a",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0443",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0437\u0432'\u044f\u0437\u043e\u043a",addDescription:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456 \u0430\u0431\u0438 \u0434\u043e\u0434\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0443.",edgeDescription:"\u0410\u0431\u0438 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0438 \u043a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043f\u043e \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0456\u0439 \u0432\u0435\u0440\u0448\u0438\u043d\u0456 \u0442\u0430 \u043f\u043e \u043a\u0456\u043d\u0446\u0435\u0432\u0456\u0439.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."}},a.params=function(e,t,n,r){var o="edit"===n,c="\u0437\u0432'\u044f\u0437\u043a\u0443"===r,i=a.state.data.nodes.map(function(e){return e.id}).sort(function(e,t){return t-e})[0],l=o?e.number:isNaN(i)?0:i+1,s=a.getWeight(r,o,e);if(s){var u="".concat(c?a.state.type===O?"":"".concat(s):a.state.type===O?"".concat(l):"".concat(l,"\n \u2014 \n").concat(s));e.number=l,e.weight=s,e.label=u,o||c||(e.id=l);try{return t(e)}catch(m){console.log(m)}}},a.onDoubleClick=function(e){var t=e.nodes,n=e.edges,r=a.state,o=r.data,c=o.nodes,i=o.edges;if(r.type!==O)if(t.length>0){var l=c.get(t[0]),s=a.getWeight("\u0432\u0435\u0440\u0448\u0438\u043d\u0438",!0,{weight:l.weight});if(!s)return;var u="".concat(l.id,"\n\u2014\n").concat(s);c.update(Object(N.a)({},l,{weight:s,label:u}))}else{var m=i.get(n[0]),d=a.getWeight("\u0437\u0432'\u044f\u0437\u043a\u0443",!0,{weight:m.weight});if(!d)return;var h="".concat(d);i.update(Object(N.a)({},m,{weight:d,label:h}))}},a.type="tasks"===e.name?j:O,a.network={},a.appRef=Object(n.createRef)(),a.options={locales:a.locales,locale:"uk",physics:{enabled:!1},manipulation:{enabled:void 0===a.props.manipulationActive||a.props.manipulationActive,initiallyActive:!0,addNode:function(e,t){a.params(e,t,"add","\u0432\u0435\u0440\u0448\u0438\u043d\u0438")},addEdge:function(e,t){a.params(e,t,"add","\u0437\u0432'\u044f\u0437\u043a\u0443")}},edges:{arrows:{to:{enabled:a.type===j}}}},a.state={data:e.data,type:a.type,manipulationActive:void 0===a.props.manipulationActive||a.props.manipulationActive},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getWeight",value:function(e,t,a){if(this.state.type===O)return" ";var n=prompt("\u0412\u0430\u0433\u0430 ".concat(e),t?a.weight:"");return n?(n=parseInt(n),isNaN(n)?alert("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0430\u0433\u0438 ".concat(e,"!")):n<=0?alert("\u0412\u0430\u0433\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u043e\u044e \u0447\u0438 \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0432\u0430\u0442\u0438 0"):n):alert('"\u0412\u0430\u0433\u0443 '.concat(e,' \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u043e!"'))}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var a=this.props.data,n=a.edges,r=a.nodes,o=e.data,c=o.edges,i=o.nodes;return!c||!i||(n.length!==c.length||r.length!==i.length)}},{key:"componentDidMount",value:function(){var e=this;this.network=new k.Network(this.appRef.current,this.props.data,this.options),this.state.type===j&&this.state.manipulationActive&&this.network.on("doubleClick",function(t){return e.onDoubleClick(t)}),this.setState({data:{nodes:this.network.body.data.nodes,edges:this.network.body.data.edges}})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;a&&(this.network=new k.Network(this.appRef.current,this.props.data,this.options),this.state.type===j&&this.state.manipulationActive&&this.network.on("doubleClick",function(e){return n.onDoubleClick(e)}),this.setState({data:{nodes:this.network.body.data.nodes,edges:this.network.body.data.edges}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"my-3",style:{height:"600px",width:"100%"},ref:this.appRef})}}]),t}(n.Component),S=function(e){var t=e.type,a=e.message;return r.a.createElement("div",{className:"alert ".concat("error"===t?"alert-danger":"alert-info")},a)},x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={vertexNumb:5,maxWeight:10,minWeight:1,correlation:.5},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.vertexNumb,n=t.maxWeight,o=t.minWeight,c=t.correlation;return r.a.createElement("div",{className:"my-4"},r.a.createElement("h4",null,"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443 \u0437\u0430\u0434\u0430\u0447"),r.a.createElement("form",{className:"py-4"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0432\u0435\u0440\u0448\u0438\u043d (\u0437\u0430\u0434\u0430\u0447): ")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"vertexNumb",value:a,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430 \u0432\u0435\u0440\u0448\u0438\u043d\u0438: ")),r.a.createElement("input",{type:"number",className:"form-control",name:"maxWeight",min:"1",autoComplete:"off",value:n,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430 \u0432\u0435\u0440\u0448\u0438\u043d\u0438: ")),r.a.createElement("input",{type:"number",className:"form-control",min:"1",autoComplete:"off",name:"minWeight",value:o,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u0417\u0432'\u044f\u0437\u043d\u0456\u0441\u0442\u044c: ")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",step:"0.01",min:"0",max:"1",name:"correlation",value:c,onChange:this.handleChange})),r.a.createElement("button",{className:"btn btn-primary float-right",onClick:function(t){return e.props.onGenerate(t,e.state)}},"\u0417\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438")))}}]),t}(n.Component),_=function(){return"_"+Math.random().toString(36).substr(2,9)},D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={graphName:"",data:{edges:new k.DataSet,nodes:new k.DataSet}},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.props,n=t.history,r=t.id,o=t.name;if(e.preventDefault(),a.graphToMatrix(),"cs"!==o&&a.isCyclic())a.setState({error:"\u0426\u0438\u043a\u043b\u0456\u0447\u043d\u0438\u0439 \u0433\u0440\u0430\u0444!"});else if("tasks"!==o&&a.isConnected())a.setState({error:"\u0413\u0440\u0430\u0444 \u043d\u0435\u0437\u0432'\u044f\u0437\u043d\u0438\u0439!"});else{var c=a.state.data,i=c.nodes,l=c.edges,s={nodes:i=i._data?Object.values(i._data):[],edges:l=l._data?Object.values(l._data):[]},u=a.state.graphName,m=localStorage.getItem("".concat(o));m=m?JSON.parse(m):[];var d={};r&&(d=m.filter(function(e){return e.id===r})[0]);var h={name:u,data:s,id:r?d.id:_(),created:r?d.created:new Date,updated:new Date};r?m=[].concat(Object(E.a)(m.filter(function(e){return e.id!==r})),[h]):m.push(h),localStorage.setItem("".concat(o),JSON.stringify(m));var p=new URLSearchParams(window.location.search),f=p.has("next")?p.get("next"):null;console.log(f),n.push("".concat(f||"/".concat(o)))}},a.handleGenerate=function(e,t){e.preventDefault();var n=t.vertexNumb,r=t.maxWeight,o=t.minWeight,c=t.correlation;a.generate(n,r,o,c)},a.generate=function(e,t,n,r){for(var o=a.state.data,c=o.edges,i=o.nodes,l=[],s=0;s<e;s++){var u=a._getRandomInt(n,t);l.push({id:s,number:s,weight:u,label:"".concat(s,"\n\u2014\n").concat(u),x:a._getRandomInt(-500,500),y:a._getRandomInt(-500,500)})}for(var m=l.reduce(function(e,t){return e+t.weight},0),d=Math.round(m*(1-r)/r),h=[],p=[],f=0;f<e;f++)p.push(0);for(var g=0;g<e;g++)h.push(p.slice());for(var v=0;v<d;){var b=a._getRandomInt(0,e-1),E=a._getRandomInt(0,e-1);if(b===E&&(E=b+1),h[E][b]>0){var y=b;b=E,E=y}h[b][E]+=1,v+=1}var w=[];h.forEach(function(e,t){e.forEach(function(e,a){e>0&&w.push({from:t,to:a,weight:e,label:"".concat(e)})})}),i.clear(),c.clear(),i.add(l),c.add(w),a.graphToMatrix();for(var k=a.isCyclic();k;)c.forEach(function(e){if(console.log("".concat(JSON.stringify(e),", cycle: ").concat(JSON.stringify(k)," ").concat(e.from===k.from&&e.to===k.to)),e.from===k.from&&e.to===k.to){var t=e.weight;c.remove(e.id);var n=c.getIds(),r=n[a._getRandomInt(0,n.length)];console.log(c.get(r));var o=c.get(r);return c.update({id:r,weight:o.weight+t,label:"".concat(o.weight+t)}),console.log(c.get(r)),a.graphToMatrix(),void(k=a.isCyclic())}});a.setState({generated:!0,nodesWeightSum:m,edgesWeightSum:v})},a._getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},a.errorRef=r.a.createRef(),a.graphRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.name;if(t){var n=localStorage.getItem("".concat(a));if(n){var r=(n=JSON.parse(n)).filter(function(e){return e.id===t})[0],o=r.data,c=o.edges,i=o.nodes,l={edges:new k.DataSet(c),nodes:new k.DataSet(i)};this.setState({graphName:r.name,data:l})}}}},{key:"componentDidUpdate",value:function(e,t){this.state.error&&window.scrollTo(0,this.errorRef.current.offsetTop),this.state.generated&&window.scrollTo(0,this.graphRef.current.offsetTop)}},{key:"isConnected",value:function(){var e=this.state.data,t=e.nodes,a=e.edges,n={},r={};for(var o in t.forEach(function(e){n[e.id]=[]}),a.forEach(function(e){n[e.from].push(e.to),n[e.to].push(e.from)}),n)r[o]||(r[o]={}),n[o].forEach(function(e){r[o][e]=1,r[e]||(r[e]={}),r[e][o]=1});for(var c=!1,i=0;i<t.length;i++){var l=t.get(i);if(l){var s=this.isConnectedUtil(l.id,r);if(Object.keys(s).length!==Object.keys(r).length){c=!0;break}}}return c}},{key:"isConnectedUtil",value:function(e,t){var a={};for(a[e]=[],a[e].dist=0;;){var n=null,r=null,o=1/0;for(var c in a)if(a[c]){var i=a[c].dist,l=t[c];for(var s in l)if(!a[s]){var u=l[s]+i;u<o&&(n=a[c],r=s,o=u)}}if(o===1/0)break;a[r]=n.concat(r),a[r].dist=o}return a}},{key:"graphToMatrix",value:function(){var e=this,t=this.state.data,a=t.nodes,n=t.edges;this.matrix={},a.forEach(function(t){e.matrix[t.id]=[]}),n.forEach(function(t){e.matrix[t.from].push(t.to)})}},{key:"isCyclic",value:function(){for(var e=Object.keys(this.matrix),t={},a={},n=0;n<e.length;n++){var r=e[n],o=this.cyclicUtil(r,t,a);if(-1!==o)return{from:parseInt(r),to:o}}return!1}},{key:"cyclicUtil",value:function(e,t,a){if(!t[e]){t[e]=!0,a[e]=!0;for(var n=this.matrix[e],r=0;r<n.length;r++){var o=n[r];if(!t[o]&&this.cyclicUtil(o,t,a))return-1;if(a[o])return o}}return a[e]=!1,-1}},{key:"render",value:function(){var e=this,t=this.state,a=t.graphName,n=t.data,o=t.error,c=t.edgesWeightSum,i=t.nodesWeightSum,l=t.generated,s=this.props,u=s.name,m=s.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-4"},r.a.createElement("h4",{className:"my-4"},"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group",ref:this.errorRef},r.a.createElement("input",{name:"graphName",autoComplete:"off",required:!0,value:a,onChange:this.handleChange,className:"form-control",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0433\u0440\u0430\u0444\u0443"})),o&&r.a.createElement(S,{type:"error",message:o}),r.a.createElement(C,{data:n,name:this.props.name,ref:this.graphRef}),l&&r.a.createElement("div",null,"\u0421\u0443\u043c\u0430\u0440\u043d\u0430 \u0432\u0430\u0433\u0430 \u0432\u0435\u0440\u0448\u0438\u043d \u0433\u0440\u0430\u0444\u0443: ".concat(i,", c\u0443\u043c\u0430\u0440\u043d\u0430 \u0432\u0430\u0433\u0430 \u0434\u0443\u0433 \u0433\u0440\u0430\u0444\u0443: ").concat(c)),r.a.createElement("input",{type:"submit",onClick:this.handleSubmit,className:"btn btn-primary float-right",value:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}))),"tasks"===u&&!m&&r.a.createElement(x,{onGenerate:function(t,a){return e.handleGenerate(t,a)}}))}}]),t}(n.Component),R=Object(w.a)(D),I=a(22),M=a(14),W=function(e){var t=e.item,a=e.index,n=e.onDelete,o=e.onClone,c=e.name;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,r.a.createElement(I.a,{to:"/".concat(c,"/").concat(t.id)},t.name?t.name:"\u0411\u0435\u0437 \u0456\u043c\u0435\u043d\u0456")),r.a.createElement("td",null,new Date(t.created).toLocaleString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r.a.createElement("td",null,new Date(t.updated).toLocaleString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group",role:"group"},"tasks"===c&&r.a.createElement(I.a,{to:"/tasks/".concat(t.id,"/queue"),className:"btn btn-primary btn-sm",title:"\u0421\u0444\u043e\u0440\u043c\u0443\u0432\u0430\u0442\u0438 \u0447\u0435\u0440\u0433\u0443"},r.a.createElement(M.a,{icon:p.e})),r.a.createElement(I.a,{to:"/".concat(c,"/").concat(t.id),className:"btn btn-primary btn-sm",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"},r.a.createElement(M.a,{icon:p.c})),r.a.createElement("button",{type:"button",className:"btn btn-info btn-sm",onClick:function(){return o(t.id)},title:"\u041a\u043b\u043e\u043d\u0443\u0432\u0430\u0442\u0438"},r.a.createElement(M.a,{icon:p.a})),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return n(t.id)},title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"},r.a.createElement(M.a,{icon:p.f})))))},A=function(e){var t=e.list,a=e.onDelete,n=e.onClone,o=e.name;if(!t||t.length<1)return r.a.createElement("h6",{className:"text-center my-2 text-secondary"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442\u0438\u0439");var c=t.sort(function(e,t){return new Date(t.created)-new Date(e.created)}).map(function(e,t){return r.a.createElement(W,{key:e.id,item:e,index:t,onDelete:a,onClone:n,name:o})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"#"),r.a.createElement("th",{style:{width:"30%"}},"\u0406\u043c'\u044f"),r.a.createElement("th",{style:{width:"25%"}},"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e"),r.a.createElement("th",{style:{width:"25%"}},"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e"),r.a.createElement("th",{style:{width:"10%"}},"\u041e\u043f\u0435\u0440\u0430\u0446\u0456\u0457"))),r.a.createElement("tbody",null,c)))},U=function(){return"_"+Math.random().toString(36).substr(2,9)},J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleDelete=function(e){if(window.confirm("\u0414\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0433\u0440\u0430\u0444?")){var t=a._getGraphs();t=t.filter(function(t){return t.id!==e}),localStorage.setItem(a.props.name,JSON.stringify(t)),a.setState({graphs:t})}},a.handleClone=function(e){var t=a._getGraphs(),n=Object(N.a)({},t.filter(function(t){return t.id===e})[0]);n.name="".concat(n.name," - \u043a\u043e\u043f\u0456\u044f"),n.id=U();var r=new Date;n.created=r,n.updated=r,t=[].concat(Object(E.a)(t),[n]),localStorage.setItem(a.props.name,JSON.stringify(t)),a.setState({graphs:t})},a.handleDeleteAll=function(){window.confirm("\u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u0433\u0440\u0430\u0444\u0438?")&&(localStorage.setItem(a.props.name,[]),a.setState({graphs:localStorage.getItem(a.props.name)}))},a.handleNew=function(){a.setState({view:{showModal:!0}})},a._getGraphs=function(){var e=localStorage.getItem(a.props.name);if(e)return e=JSON.parse(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.name){var e=localStorage.getItem(this.props.name);if(!e)return this.setState({graphs:[]});this.setState({graphs:JSON.parse(e)})}}},{key:"render",value:function(){var e=this.state.graphs,t=this.props.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"my-4"},this.props.title,r.a.createElement("div",{className:"float-right btn-group"},r.a.createElement(I.a,{to:"/".concat(t,"/new"),className:"btn btn-primary"},r.a.createElement(M.a,{icon:p.d})),r.a.createElement("button",{className:"btn btn-danger",onClick:this.handleDeleteAll},r.a.createElement(M.a,{icon:p.g})))),r.a.createElement(A,{name:t,list:e,onDelete:this.handleDelete,onClone:this.handleClone}))}}]),t}(n.Component),T=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h4",{className:"h4"},"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c-2"),r.a.createElement("hr",null),r.a.createElement("p",{className:"lead"},r.a.createElement("b",null,"\u0412\u0438\u043a\u043e\u043d\u0430\u0432:"),r.a.createElement("br",null)," \u0441\u0442\u0443\u0434\u0435\u043d\u0442 \u0433\u0440\u0443\u043f\u0438 \u0406\u041e-82\u043c\u043f ",r.a.createElement("br",null)," \u0411\u0430\u0440\u0430\u0431\u0430\u0448 \u0422.\u0410."),r.a.createElement(I.a,{to:"/tasks",className:"btn btn-primary float-right"},"\u041f\u043e\u0447\u0430\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443"))};function F(e){var t=e.edge,a=e.path;return function(e,t){var a,n=[];for(a=0;a<e.length;a++)e[a]===t&&n.push(a);return n}(a,t.from).some(function(e){return a[e+1]===t.to})}var G=function(){function e(t,a){Object(i.a)(this,e),this._method=t,this._data=a}return Object(l.a)(e,[{key:"run",value:function(){var e;switch(this._method){case 1:e=this._run1();break;case 11:e=this._run11();break;default:throw new Error("Unsupported algo")}return e}},{key:"_toMatrix",value:function(e){var t=this._data,a=t.nodes,n=t.edges,r=[];return n.forEach(function(t){e?r[t.to]=Object(N.a)({},r[t.to],Object(y.a)({},t.from,a.get(t.from).weight)):r[t.from]=Object(N.a)({},r[t.from],Object(y.a)({},t.to,a.get(t.to).weight))}),r}},{key:"_toEdgesArray",value:function(e){var t=this._data.edges,a=[];return t.forEach(function(t){a.push(e?[t.to,t.from]:[t.from,t.to])}),a}},{key:"_toUndirectedMatrix",value:function(){var e=this._data,t=e.nodes,a=e.edges,n=[];return a.forEach(function(e){n[e.to]=Object(N.a)({},n[e.to],Object(y.a)({},e.from,t.get(e.from).weight)),n[e.from]=Object(N.a)({},n[e.from],Object(y.a)({},e.to,t.get(e.to).weight))}),n}},{key:"_getPaths",value:function(e,t,a){return function(e){var t=e.graph,a=void 0===t?[]:t,n=e.from,r=e.to,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=function(e){var t=new Map;return function(){var a=JSON.stringify(arguments),n=t.get(a);return n||(n=e.apply(this,arguments),t.set(a,n),n)}}(function(e,t){return e.reduce(function(e,a){return a[0]===t&&e.push(a[1]),e},[])}.bind(null,a));return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o.push(t);var r=!0;var i=!1;var l=void 0;try{for(var s,u=c(t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var m=s.value;if(m!==a)F({edge:{from:t,to:m},path:o})||e(m,a,n);else{var d=o.slice();d.push(a),n.push(d)}}}catch(h){i=!0,l=h}finally{try{r||null==u.return||u.return()}finally{if(i)throw l}}o.pop();return n}(n,r)}({graph:this._toEdgesArray(a),from:e,to:t})}},{key:"_BFS",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this._data.nodes,n=Object.keys(a._data),r=Object.keys(this._toMatrix(t)),o=n.filter(function(e){return!r.includes(e)}),c={},i={};return r.forEach(function(n){n=parseInt(n);var r=0,l=[];o.forEach(function(o){o=parseInt(o),e._getPaths(n,o,t).forEach(function(e){var o=e.reduce(function(e,t){return e+a.get(t).weight},t?-a.get(n).weight:0);r<o&&(r=o,l=e)}),c[o]=t?0:a.get(o).weight,i[o]=[o]}),c[n]=r,i[n]=l}),{weights:c,maxPaths:i}}},{key:"_run1",value:function(){for(var e=this._data.nodes,t=this._BFS(),a=t.weights,n=t.maxPaths,r=Math.max.apply(Math,Object(E.a)(Object.values(a))),o=Object.values(n).map(function(e){return e.length}),c=Math.max.apply(Math,Object(E.a)(o)),i=[],l=0;l<e.length;l++){var s=a[l]/r+o[l]/c;i.push({number:l,value:s,names:["Pr"]})}return i.sort(function(e,t){return t.value-e.value})}},{key:"_run11",value:function(){var e=this._toUndirectedMatrix(),t=this._data.nodes,a=Object.keys(t._data),n=this._BFS(!0).weights;return a.map(function(t){return{number:t,value:e[t]?Object.keys(e[t]).length:0,weights:n[t],names:["Sv","T\u043a\u0440.\u043f\u043e\u0447."]}}).sort(function(e,t){return e.value===t.value?e.weights-t.weights:t.value-e.value})}}]),e}(),B=function(e){var t=e.data;return r.a.createElement("table",{className:"table my-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041d\u043e\u043c\u0435\u0440 \u0443 \u0447\u0435\u0440\u0437\u0456"),r.a.createElement("th",null,"\u041d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0448\u0438\u043d\u0438"),r.a.createElement("th",null,"\u041f\u043e\u043a\u0430\u0437\u043d\u0438\u043a"))),r.a.createElement("tbody",null,t.map(function(e,t){return console.log(e),r.a.createElement("tr",{key:t,"data-item":e},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.number),r.a.createElement("td",null,1===e.names.length?"".concat(e.names," = ").concat(e.value.toFixed(2)):"".concat(e.names[0]," = ").concat(e.value,", ").concat(e.names[1]," = ").concat(e.weights)))})))},P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleOptionChange=function(e){var t=parseInt(e.target.value);a.setState({algo:t});var n=new G(t,a.props.data).run();window.scrollTo(0,a.resultsRef.current.offsetTop),a.setState({results:n})},a.resultsRef=Object(n.createRef)(),a.state={data:e.data,results:[],algo:-1,description:{1:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u043f\u0440\u043e\u043d\u043e\u0440\u043c\u043e\u0432\u0430\u043d\u043e\u0457 \u0441\u0443\u043c\u0438 \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u0438\u0445 \u043f\u043e \u0447\u0430\u0441\u0443 \u0456 \u043f\u043e \u043a\u0456\u043b\u044c\u043a\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043e \u043a\u0456\u043d\u0446\u044f \u0433\u0440\u0430\u0444\u0430 \u0437\u0430\u0434\u0430\u0447\u0456.",11:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u0437\u0432\u2019\u044f\u0437\u043d\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d, \u0430 \u043f\u0440\u0438 \u0440\u0456\u0432\u043d\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u0445 \u2013 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u043e \u043a\u0456\u043b\u044c\u043a\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d \u0448\u043b\u044f\u0445\u0456\u0432 \u0432\u0456\u0434 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0433\u0440\u0430\u0444\u0430 \u0437\u0430\u0434\u0430\u0447\u0456. "}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.results.length>0&&window.scrollTo(0,this.resultsRef.current.offsetTop)}},{key:"render",value:function(){var e=this.state,t=e.results,a=e.algo,n=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"algo"},r.a.createElement("h5",null,"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c: ")),r.a.createElement("select",{className:"custom-select",name:"algo",value:a,onChange:this.handleOptionChange},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0440\u0430\u0442\u0438"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"11"},"11"))),r.a.createElement("div",{ref:this.resultsRef},a>0&&r.a.createElement("div",null,r.a.createElement("h5",null,"\u041e\u043f\u0438\u0441 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0443: "),n[a],r.a.createElement("h5",{className:"my-2"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: "),r.a.createElement(B,{data:t}))))}}]),t}(n.Component),q=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={};var n=e.id,r=localStorage.getItem("tasks");if(!r)return Object(s.a)(a);var o=(r=JSON.parse(r)).filter(function(e){return e.id===n})[0].data,c=o.edges,l=o.nodes,m={edges:new k.DataSet(c),nodes:new k.DataSet(l)};return a.state.data=m,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.data,t=this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"\u0424\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0447\u0435\u0440\u0433\u0438 \u0437\u0430\u0434\u0430\u0447",r.a.createElement("div",{className:"float-right btn-group"},r.a.createElement(I.a,{to:"/tasks/".concat(t,"?next=").concat(window.location.pathname),className:"btn btn-primary"},"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0430\u0444"))),r.a.createElement(C,{name:"tasks",data:e,manipulationActive:!1}),r.a.createElement(P,{data:e}))}}]),t}(n.Component),L=function(){return r.a.createElement("div",{className:"container my-4"},r.a.createElement(v.a,null,r.a.createElement(b.a,{exact:!0,key:"home-page",path:"/",render:function(){return document.title="\u041f\u0417\u041a\u0421 - 2",r.a.createElement(T,null)}}),r.a.createElement(b.a,{key:"tasks-graphs",exact:!0,path:"/tasks",render:function(){return document.title="\u0413\u0440\u0430\u0444\u0438 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(J,{name:"tasks",title:"\u0413\u0440\u0430\u0444\u0438 \u0437\u0430\u0434\u0430\u0447"})}}),r.a.createElement(b.a,{exact:!0,path:"/tasks/new",render:function(){return document.title="\u041d\u043e\u0432\u0438\u0439 \u0433\u0440\u0430\u0444 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(R,{name:"tasks"})}}),r.a.createElement(b.a,{path:"/tasks/:id",exact:!0,type:"task",render:function(e){return document.title="\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(R,{name:"tasks",id:e.match.params.id})}}),r.a.createElement(b.a,{path:"/tasks/:id*/queue",exact:!0,type:"task",render:function(e){return document.title="\u0424\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0447\u0435\u0440\u0433\u0438 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(q,{id:e.match.params.id})}}),r.a.createElement(b.a,{key:"cs-graphs",exact:!0,path:"/cs",render:function(){return document.title="\u0413\u0440\u0430\u0444\u0438 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(J,{name:"cs",title:"\u0413\u0440\u0430\u0444\u0438 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"})}}),r.a.createElement(b.a,{exact:!0,path:"/cs/new",render:function(){return document.title="\u041d\u043e\u0432\u0438\u0439 \u0433\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(R,{name:"cs"})}}),r.a.createElement(b.a,{path:"/cs/:id",type:"task",render:function(e){return document.title="\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(R,{name:"cs",id:e.match.params.id})}})))};a(41);h.b.add(p.b);var z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/pzks2"},r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(L,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.d7c71afa.chunk.js.map