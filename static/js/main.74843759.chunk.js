(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t){function a(e,t,n,r){if(!t[e]){t[e]=!0,n[e]=!0;for(var s=r[e],o=0;o<s.length;o++){var c=s[o];if(!t[c]&&-1!==a(c,t,n,r))return c;if(n[c])return c}}return n[e]=!1,-1}function n(e,t){var a={};for(a[e]=[],a[e].dist=0;;){var n=null,r=null,s=1/0;for(var o in a)if(a[o]){var c=a[o].dist,l=t[o];for(var i in l)if(!a[i]){var u=l[i]+c;u<s&&(n=a[o],r=i,s=u)}}if(s===1/0)break;a[r]=n.concat(r),a[r].dist=s}return a}e.exports={isCyclic:function(e,t){for(var n=function(e,t){var a={};return e.forEach(function(e){a[e.id]=[]}),t.forEach(function(e){a[e.from].push(e.to)}),a}(e,t),r=Object.keys(n),s={},o={},c=0;c<r.length;c++){var l=r[c],i=a(l,s,o,n);if(-1!==i)return{from:parseInt(l),to:i}}return!1},isConnected:function(e,t){var a={},r={};e.forEach(function(e){a[e.id]=[]}),t.forEach(function(e){a[e.from].push(e.to),a[e.to].push(e.from)});var s=function(e){r[e]||(r[e]={}),a[e].forEach(function(t){r[e][t]=1,r[t]||(r[t]={}),r[t][e]=1})};for(var o in a)s(o);for(var c=!1,l=0;l<e.length;l++){var i=e.get(l);if(i){var u=n(i.id,r);if(Object.keys(u).length!==Object.keys(r).length){c=!0;break}}}return c}}},47:function(e,t,a){e.exports=a(76)},52:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(40),o=a.n(s),c=(a(52),a(2)),l=a(5),i=a(7),u=a(6),m=a(8),d=a(78),h=a(24),p=a(10),f=a(77),g=(a(38),a(55),a(56),function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(f.a,{className:"navbar-brand",to:"/"},"\u041f\u0417\u041a\u0421-2"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("button",{href:"#",className:"btn shadow-none nav-link dropdown-toggle",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"\u0413\u0440\u0430\u0444\u0438"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(f.a,{className:"dropdown-item",to:"/tasks"},"\u0417\u0430\u0434\u0430\u0447"),r.a.createElement(f.a,{className:"dropdown-item",activeClassName:"active",to:"/cs"},"\u041a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{exact:!0,className:"nav-link ",activeClassName:"active",to:"/model"},"\u041c\u043e\u0434\u0435\u043b\u044e\u0432\u0430\u043d\u043d\u044f")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{exact:!0,className:"nav-link",activeClassName:"active",to:"/stats"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")))))}),v=a(80),b=a(41),E=a(3),y=a(4),N=a(79),k=a(9),O=a(11),w=(a(61),1),j=2,x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).locales={uk:{edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0443",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0432'\u044f\u0437\u043e\u043a",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0443",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0437\u0432'\u044f\u0437\u043e\u043a",addDescription:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456 \u0430\u0431\u0438 \u0434\u043e\u0434\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0443.",edgeDescription:"\u0410\u0431\u0438 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0438 \u043a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043f\u043e \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0456\u0439 \u0432\u0435\u0440\u0448\u0438\u043d\u0456 \u0442\u0430 \u043f\u043e \u043a\u0456\u043d\u0446\u0435\u0432\u0456\u0439.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."}},a.params=function(e,t,n,r){var s="edit"===n,o="\u0437\u0432'\u044f\u0437\u043a\u0443"===r,c=a.state.data.nodes.map(function(e){return e.id}).sort(function(e,t){return t-e})[0],l=s?e.number:isNaN(c)?0:c+1,i=a.getWeight(r,s,e);if(i){var u="".concat(o?a.state.type===w?"":"".concat(i):a.state.type===w?"".concat(l):"".concat(l,"\n \u2014 \n").concat(i));e.number=l,e.weight=i,e.label=u,s||o||(e.id=l);try{return t(e)}catch(m){console.log(m)}}},a.onDoubleClick=function(e){var t=e.nodes,n=e.edges,r=a.state,s=r.data,o=s.nodes,c=s.edges;if(r.type!==w)if(t.length>0){var l=o.get(t[0]),i=a.getWeight("\u0432\u0435\u0440\u0448\u0438\u043d\u0438",!0,{weight:l.weight});if(!i)return;var u="".concat(l.id,"\n\u2014\n").concat(i);o.update(Object(O.a)({},l,{weight:i,label:u}))}else{var m=c.get(n[0]),d=a.getWeight("\u0437\u0432'\u044f\u0437\u043a\u0443",!0,{weight:m.weight});if(!d)return;var h="".concat(d);c.update(Object(O.a)({},m,{weight:d,label:h}))}},a.type="tasks"===e.name?j:w,a.network={},a.appRef=Object(n.createRef)(),a.options={locales:a.locales,locale:"uk",physics:{enabled:!1},manipulation:{enabled:void 0===a.props.manipulationActive||a.props.manipulationActive,initiallyActive:!0,addNode:function(e,t){a.params(e,t,"add","\u0432\u0435\u0440\u0448\u0438\u043d\u0438")},addEdge:function(e,t){a.params(e,t,"add","\u0437\u0432'\u044f\u0437\u043a\u0443")}},edges:{arrows:{to:{enabled:a.type===j}}}},a.state={data:e.data,type:a.type,manipulationActive:void 0===a.props.manipulationActive||a.props.manipulationActive},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getWeight",value:function(e,t,a){if(this.state.type===w)return" ";var n=prompt("\u0412\u0430\u0433\u0430 ".concat(e),t?a.weight:"");return n?(n=parseInt(n),isNaN(n)?alert("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0430\u0433\u0438 ".concat(e,"!")):n<=0?alert("\u0412\u0430\u0433\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u043e\u044e \u0447\u0438 \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0432\u0430\u0442\u0438 0"):n):alert('"\u0412\u0430\u0433\u0443 '.concat(e,' \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u043e!"'))}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.data!==this.props.data}},{key:"componentDidMount",value:function(){var e=this;this.network=new k.Network(this.appRef.current,this.props.data,this.options),this.state.type===j&&this.state.manipulationActive&&this.network.on("doubleClick",function(t){return e.onDoubleClick(t)}),this.setState({data:{nodes:this.network.body.data.nodes,edges:this.network.body.data.edges}})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;a&&(this.network=new k.Network(this.appRef.current,this.props.data,this.options),this.state.type===j&&this.state.manipulationActive&&this.network.on("doubleClick",function(e){return n.onDoubleClick(e)}),this.setState({data:{nodes:this.network.body.data.nodes,edges:this.network.body.data.edges}}))}},{key:"render",value:function(){var e=this.props,t=e.height,a=e.width;return r.a.createElement("div",{className:"my-3",style:{height:t||"600px",width:a||"100%"},ref:this.appRef})}}]),t}(n.Component),C=function(e){var t=e.type,a=e.message;return r.a.createElement("div",{className:"alert ".concat("error"===t?"alert-danger":"alert-info")},a)},S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={vertexNumb:5,maxWeight:10,minWeight:1,correlation:.5},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value)),a.props.handleUpdates&&a.props.handleUpdates(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.vertexNumb,n=t.maxWeight,s=t.minWeight,o=t.correlation;return r.a.createElement("div",null,!0===this.props.showTitle&&r.a.createElement("h4",null,"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443 \u0437\u0430\u0434\u0430\u0447"),r.a.createElement("form",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0432\u0435\u0440\u0448\u0438\u043d (\u0437\u0430\u0434\u0430\u0447): ")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"vertexNumb",value:a,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430 \u0432\u0435\u0440\u0448\u0438\u043d\u0438: ")),r.a.createElement("input",{type:"number",className:"form-control",name:"maxWeight",min:"1",autoComplete:"off",value:n,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430 \u0432\u0435\u0440\u0448\u0438\u043d\u0438: ")),r.a.createElement("input",{type:"number",className:"form-control",min:"1",autoComplete:"off",name:"minWeight",value:s,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u0417\u0432'\u044f\u0437\u043d\u0456\u0441\u0442\u044c: ")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",step:"0.01",min:"0",max:"1",name:"correlation",value:o,onChange:this.handleChange})),this.props.showButton&&r.a.createElement("div",{class:"text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.props.onGenerate(t,e.state)}},"\u0417\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438"))))}}]),t}(n.Component),_=a(22),M=function e(t,a,n,r,s,o){var l=this;Object(c.a)(this,e),this.generate=function(){for(var e=l.nodes,t=l.edges,a=[],n=0;n<l.vertexNumb;n++){var r=l._getRandomInt(l.minWeight,l.maxWeight);a.push({id:n,number:n,weight:r,label:"".concat(n,"\n\u2014\n").concat(r),x:l._getRandomInt(-500,500),y:l._getRandomInt(-500,500)})}for(var s=a.reduce(function(e,t){return e+t.weight},0),o=Math.round(s*(1-l.correlation)/l.correlation),c=[],i=[],u=0;u<l.vertexNumb;u++)i.push(0);for(var m=0;m<l.vertexNumb;m++)c.push(i.slice());for(var d=0;d<o;){var h=l._getRandomInt(0,l.vertexNumb-1),p=l._getRandomInt(0,l.vertexNumb-1);if(h===p&&(p=h+1),c[p][h]>0){var f=h;h=p,p=f}c[h][p]+=1,d+=1}var g=[];c.forEach(function(e,t){e.forEach(function(e,a){e>0&&g.push({from:t,to:a,weight:e,label:"".concat(e)})})}),e.clear(),t.clear(),e.add(a),t.add(g);for(var v=Object(_.isCyclic)(e,t);v;)t.forEach(function(a){if(a.from===v.from&&a.to===v.to){var n=a.weight;t.remove(a.id);var r=t.getIds(),s=r[l._getRandomInt(0,r.length)],o=t.get(s);return t.update({id:s,weight:o.weight+n,label:"".concat(o.weight+n)}),void(v=Object(_.isCyclic)(e,t))}});return{nodes:e,edges:t,cur_l_w:d,weights:s}},this._getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},this.vertexNumb=t,this.maxWeight=a,this.minWeight=n,this.correlation=r,this.nodes=new k.DataSet,this.edges=new k.DataSet},D=function(){return"_"+Math.random().toString(36).substr(2,9)},I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={graphName:"",data:{edges:new k.DataSet,nodes:new k.DataSet}},a.handleChange=function(e){"showJson"!==e.target.name?a.setState(Object(y.a)({},e.target.name,e.target.value)):a.setState(Object(y.a)({},e.target.name,!a.state.showJson||!a.state.showJson))},a.handleSubmit=function(e){var t=a.props,n=t.history,r=t.id,s=t.name,o=a.state.data,c=o.nodes,l=o.edges;if(e.preventDefault(),"cs"!==s&&Object(_.isCyclic)(c,l))a.setState({error:"\u0426\u0438\u043a\u043b\u0456\u0447\u043d\u0438\u0439 \u0433\u0440\u0430\u0444!"});else if("tasks"!==s&&Object(_.isConnected)(c,l))a.setState({error:"\u0413\u0440\u0430\u0444 \u043d\u0435\u0437\u0432'\u044f\u0437\u043d\u0438\u0439!"});else{var i={nodes:c=c._data?Object.values(c._data):[],edges:l=l._data?Object.values(l._data):[]},u=a.state.graphName,m=localStorage.getItem("".concat(s));m=m?JSON.parse(m):[];var d={};r&&(d=m.filter(function(e){return e.id===r})[0]);var h={name:u||"\u0411\u0435\u0437 \u0456\u043c\u0435\u043d\u0456 ".concat(m.length),data:i,id:r?d.id:D(),created:r?d.created:new Date,updated:new Date};r?m=[].concat(Object(E.a)(m.filter(function(e){return e.id!==r})),[h]):m.push(h),localStorage.setItem("".concat(s),JSON.stringify(m));var p=new URLSearchParams(window.location.search),f=p.has("next")?p.get("next"):null;console.log(f),n.push("".concat(f||"/".concat(s)))}},a.handleGenerate=function(e,t){e.preventDefault();var n=t.vertexNumb,r=t.maxWeight,s=t.minWeight,o=t.correlation,c=new M(n,r,s,o).generate(),l=c.edges,i=c.nodes,u=c.weights,m=c.cur_l_w;a.setState({generated:!0,data:{nodes:i,edges:l},nodesWeightSum:u,edgesWeightSum:m})},a.errorRef=r.a.createRef(),a.graphRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.name;if(t){var n=localStorage.getItem("".concat(a));if(n){var r=(n=JSON.parse(n)).filter(function(e){return e.id===t})[0],s=r.data,o=s.edges,c=s.nodes,l={edges:new k.DataSet(o),nodes:new k.DataSet(c)};this.setState({graphName:r.name,data:l})}}}},{key:"componentDidUpdate",value:function(e,t){this.state.error&&window.scrollTo(0,this.errorRef.current.offsetTop),this.state.generated&&window.scrollTo(0,this.graphRef.current.offsetTop)}},{key:"render",value:function(){var e=this,t=this.state,a=t.graphName,n=t.data,s=t.error,o=t.edgesWeightSum,c=t.nodesWeightSum,l=t.generated,i=t.showJson,u=this.props,m=u.name,d=u.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-4"},r.a.createElement("h4",{className:"my-4"},"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group",ref:this.errorRef},r.a.createElement("input",{name:"graphName",autoComplete:"off",required:!0,value:a,onChange:this.handleChange,className:"form-control",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0433\u0440\u0430\u0444\u0443"})),s&&r.a.createElement(C,{type:"error",message:s}),r.a.createElement(x,{data:n,name:this.props.name,ref:this.graphRef}),l&&r.a.createElement("div",null,"\u0421\u0443\u043c\u0430\u0440\u043d\u0430 \u0432\u0430\u0433\u0430 \u0432\u0435\u0440\u0448\u0438\u043d \u0433\u0440\u0430\u0444\u0443: ".concat(c,", c\u0443\u043c\u0430\u0440\u043d\u0430 \u0432\u0430\u0433\u0430 \u0434\u0443\u0433 \u0433\u0440\u0430\u0444\u0443: ").concat(o)),d&&r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",onChange:this.handleChange,id:"json",name:"showJson"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"json"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 JSON")),i&&r.a.createElement("textarea",{className:"form-control",disabled:!0,rows:"3"},JSON.stringify(JSON.parse(localStorage.getItem(m)).filter(function(e){return e.id===d})[0])),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{type:"submit",onClick:this.handleSubmit,className:"btn btn-primary",value:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})))),"tasks"===m&&!d&&r.a.createElement(S,{showTitle:!0,showButton:!0,onGenerate:function(t,a){return e.handleGenerate(t,a)}}))}}]),t}(n.Component),T=Object(N.a)(I),F=a(36),A=a(13),G=function(e){var t=e.item,a=e.index,n=e.onDelete,s=e.onClone,o=e.name;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,r.a.createElement(F.a,{to:"/".concat(o,"/").concat(t.id)},t.name?t.name:"\u0411\u0435\u0437 \u0456\u043c\u0435\u043d\u0456")),r.a.createElement("td",null,new Date(t.created).toLocaleString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r.a.createElement("td",null,new Date(t.updated).toLocaleString("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group",role:"group"},"tasks"===o&&r.a.createElement(F.a,{to:"/tasks/".concat(t.id,"/queue"),className:"btn btn-primary btn-sm",title:"\u0421\u0444\u043e\u0440\u043c\u0443\u0432\u0430\u0442\u0438 \u0447\u0435\u0440\u0433\u0443"},r.a.createElement(A.a,{icon:p.f})),r.a.createElement(F.a,{to:"/".concat(o,"/").concat(t.id),className:"btn btn-primary btn-sm",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"},r.a.createElement(A.a,{icon:p.d})),r.a.createElement("button",{type:"button",className:"btn btn-info btn-sm",onClick:function(){return s(t.id)},title:"\u041a\u043b\u043e\u043d\u0443\u0432\u0430\u0442\u0438"},r.a.createElement(A.a,{icon:p.a})),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return n(t.id)},title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"},r.a.createElement(A.a,{icon:p.g})))))},R=function(e){var t=e.list,a=e.onDelete,n=e.onClone,s=e.name;if(!t||t.length<1)return r.a.createElement("h6",{className:"text-center my-2 text-secondary"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442\u0438\u0439");var o=t.sort(function(e,t){return new Date(t.created)-new Date(e.created)}).map(function(e,t){return r.a.createElement(G,{key:e.id,item:e,index:t,onDelete:a,onClone:n,name:s})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"#"),r.a.createElement("th",{style:{width:"30%"}},"\u0406\u043c'\u044f"),r.a.createElement("th",{style:{width:"25%"}},"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e"),r.a.createElement("th",{style:{width:"25%"}},"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e"),r.a.createElement("th",{style:{width:"10%"}},"\u041e\u043f\u0435\u0440\u0430\u0446\u0456\u0457"))),r.a.createElement("tbody",null,o)))},J=function(){return"_"+Math.random().toString(36).substr(2,9)},W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleDelete=function(e){if(window.confirm("\u0414\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0433\u0440\u0430\u0444?")){var t=a._getGraphs();t=t.filter(function(t){return t.id!==e}),localStorage.setItem(a.props.name,JSON.stringify(t)),a.setState({graphs:t})}},a.handleClone=function(e){var t=a._getGraphs(),n=Object(O.a)({},t.filter(function(t){return t.id===e})[0]);n.name="".concat(n.name," - \u043a\u043e\u043f\u0456\u044f"),n.id=J();var r=new Date;n.created=r,n.updated=r,t=[].concat(Object(E.a)(t),[n]),localStorage.setItem(a.props.name,JSON.stringify(t)),a.setState({graphs:t})},a.handleDeleteAll=function(){window.confirm("\u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u0433\u0440\u0430\u0444\u0438?")&&(localStorage.setItem(a.props.name,[]),a.setState({graphs:localStorage.getItem(a.props.name)}))},a.handleNew=function(){a.setState({view:{showModal:!0}})},a._getGraphs=function(){var e=localStorage.getItem(a.props.name);if(e)return e=JSON.parse(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.name){var e=localStorage.getItem(this.props.name);if(!e)return this.setState({graphs:[]});this.setState({graphs:JSON.parse(e)})}}},{key:"render",value:function(){var e=this.state.graphs,t=this.props.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"my-4"},this.props.title,r.a.createElement("div",{className:"float-right btn-group"},r.a.createElement(F.a,{to:"/".concat(t,"/new"),className:"btn btn-primary"},r.a.createElement(A.a,{icon:p.e})),r.a.createElement("button",{className:"btn btn-danger",onClick:this.handleDeleteAll},r.a.createElement(A.a,{icon:p.h})))),r.a.createElement(R,{name:t,list:e,onDelete:this.handleDelete,onClone:this.handleClone}))}}]),t}(n.Component),q=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",null,r.a.createElement("h4",{className:"h4"},"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c-2"),r.a.createElement("hr",null),r.a.createElement("p",{className:"lead"},r.a.createElement("b",null,"\u0412\u0438\u043a\u043e\u043d\u0430\u0432:"),r.a.createElement("br",null)," \u0441\u0442\u0443\u0434\u0435\u043d\u0442 \u0433\u0440\u0443\u043f\u0438 \u0406\u041e-82\u043c\u043f ",r.a.createElement("br",null)," \u0411\u0430\u0440\u0430\u0431\u0430\u0448 \u0422.\u0410."),r.a.createElement("div",{className:"text-right"},r.a.createElement(F.a,{to:"/model",className:"btn btn-primary"},"\u041f\u043e\u0447\u0430\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443"))))};function P(e){var t=e.edge,a=e.path;return function(e,t){var a,n=[];for(a=0;a<e.length;a++)e[a]===t&&n.push(a);return n}(a,t.from).some(function(e){return a[e+1]===t.to})}var L=function(e){var t=e.graph,a=void 0===t?[]:t,n=e.from,r=e.to,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];s.push(t);var o=!0,c=!1,l=void 0;try{for(var i,u=a[t][Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var m=i.value;if(m!==n)P({edge:{from:t,to:m},path:s})||e(m,n,r);else{var d=s.slice();d.push(n),r.push(d)}}}catch(h){c=!0,l=h}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}return s.pop(),r}(n,r)},B=function(){function e(t,a){Object(c.a)(this,e),this._method=t,this._data=a}return Object(l.a)(e,[{key:"run",value:function(){var e;switch(this._method){case 1:e=this._run1();break;case 2:e=this._run2();break;case 11:e=this._run11();break;default:throw new Error("Unsupported algo")}return e}},{key:"_toMatrix",value:function(e){var t=this._data,a=t.nodes,n=t.edges,r=[];return n.forEach(function(t){e?r[t.to]=Object(O.a)({},r[t.to],Object(y.a)({},t.from,a.get(t.from).weight)):r[t.from]=Object(O.a)({},r[t.from],Object(y.a)({},t.to,a.get(t.to).weight))}),r}},{key:"_toEdgesArray",value:function(e){var t=this._data,a=t.nodes,n=t.edges,r={};return a.forEach(function(e){r[e.id]=[]}),n.forEach(function(t){e?r[t.to]=[].concat(Object(E.a)(r[t.to]),[t.from]):r[t.from]=[].concat(Object(E.a)(r[t.from]),[t.to])}),r}},{key:"_toUndirectedMatrix",value:function(){var e=this._data,t=e.nodes,a=e.edges,n=[];return a.forEach(function(e){n[e.to]=Object(O.a)({},n[e.to],Object(y.a)({},e.from,t.get(e.from).weight)),n[e.from]=Object(O.a)({},n[e.from],Object(y.a)({},e.to,t.get(e.to).weight))}),n}},{key:"_getPaths",value:function(e,t,a){return L({graph:this._toEdgesArray(a),from:e,to:t})}},{key:"BFS",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this._data.nodes,n=Object.keys(a._data),r=Object.keys(this._toMatrix(t)),s=n.filter(function(e){return!r.includes(e)}),o={},c={};return r.forEach(function(n){n=parseInt(n);var r=0,l=[];s.forEach(function(s){s=parseInt(s),e._getPaths(n,s,t).forEach(function(e){var s=e.reduce(function(e,t){return e+a.get(t).weight},t?-a.get(n).weight:0);r<s&&(r=s,l=e)}),o[s]=t?0:a.get(s).weight,c[s]=[s]}),o[n]=r,c[n]=l}),{weights:o,maxPaths:c}}},{key:"_run2",value:function(){for(var e=this._data.nodes,t=this.BFS().weights,a=[],n=0;n<e.length;n++){var r=t[n];a.push({number:n,value:r,names:["T\u043a\u0440.\u043a."]})}return a.sort(function(e,t){return t.value-e.value})}},{key:"_run1",value:function(){for(var e=this._data.nodes,t=this.BFS(),a=t.weights,n=t.maxPaths,r=Math.max.apply(Math,Object(E.a)(Object.values(a))),s=Object.values(n).map(function(e){return e.length}),o=Math.max.apply(Math,Object(E.a)(s)),c=[],l=0;l<e.length;l++){var i=a[l]/r+s[l]/o;c.push({number:l,value:i,names:["Pr"]})}return c.sort(function(e,t){return t.value-e.value})}},{key:"_run11",value:function(){var e=this._toUndirectedMatrix(),t=this._data.nodes,a=Object.keys(t._data),n=this.BFS(!0).weights;return a.map(function(t){return{number:t,value:e[t]?Object.keys(e[t]).length:0,weights:n[t],names:["Sv","T\u043a\u0440.\u043f\u043e\u0447."]}}).sort(function(e,t){return e.value===t.value?e.weights-t.weights:t.value-e.value})}}]),e}(),U=function(e){var t=e.data;return r.a.createElement("table",{className:"table my-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041d\u043e\u043c\u0435\u0440 \u0443 \u0447\u0435\u0440\u0437\u0456"),r.a.createElement("th",null,"\u041d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0448\u0438\u043d\u0438"),r.a.createElement("th",null,"\u041f\u043e\u043a\u0430\u0437\u043d\u0438\u043a"))),r.a.createElement("tbody",null,t.map(function(e,t){return console.log(e),r.a.createElement("tr",{key:t,"data-item":e},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.number),r.a.createElement("td",null,1===e.names.length?"".concat(e.names," = ").concat(e.value.toFixed(2)):"".concat(e.names[0]," = ").concat(e.value,", ").concat(e.names[1]," = ").concat(e.weights)))})))},V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleOptionChange=function(e){var t=parseInt(e.target.value);a.setState({algo:t});var n=new B(t,a.props.data).run();window.scrollTo(0,a.resultsRef.current.offsetTop),a.setState({results:n})},a.resultsRef=Object(n.createRef)(),a.state={data:e.data,results:[],algo:-1,description:{1:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u043f\u0440\u043e\u043d\u043e\u0440\u043c\u043e\u0432\u0430\u043d\u043e\u0457 \u0441\u0443\u043c\u0438 \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u0438\u0445 \u043f\u043e \u0447\u0430\u0441\u0443 \u0456 \u043f\u043e \u043a\u0456\u043b\u044c\u043a\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043e \u043a\u0456\u043d\u0446\u044f \u0433\u0440\u0430\u0444\u0430 \u0437\u0430\u0434\u0430\u0447\u0456.",2:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443 \u0434\u043e \u043a\u0456\u043d\u0446\u044f \u0433\u0440\u0430\u0444\u0443",11:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u0437\u0432\u2019\u044f\u0437\u043d\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d, \u0430 \u043f\u0440\u0438 \u0440\u0456\u0432\u043d\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u0445\n              \u2013 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u043e \u0447\u0430\u0441\u0443 \u0448\u043b\u044f\u0445\u0456\u0432 \u0432\u0456\u0434 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0433\u0440\u0430\u0444\u0430\n              \u0437\u0430\u0434\u0430\u0447\u0456. "}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.results.length>0&&window.scrollTo(0,this.resultsRef.current.offsetTop)}},{key:"render",value:function(){var e=this.state,t=e.results,a=e.algo,n=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"algo"},r.a.createElement("h5",null,"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c: ")),r.a.createElement("select",{className:"custom-select",name:"algo",value:a,onChange:this.handleOptionChange},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0440\u0430\u0442\u0438"),Object.keys(n).map(function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("div",{ref:this.resultsRef},a>0&&r.a.createElement("div",null,r.a.createElement("h5",null,"\u041e\u043f\u0438\u0441 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0443: "),n[a],r.a.createElement("h5",{className:"my-2"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: "),r.a.createElement(U,{data:t}))))}}]),t}(n.Component),Y=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={};var n=e.id,r=localStorage.getItem("tasks");if(!r)return Object(i.a)(a);var s=(r=JSON.parse(r)).filter(function(e){return e.id===n})[0].data,o=s.edges,l=s.nodes,m={edges:new k.DataSet(o),nodes:new k.DataSet(l)};return a.state.data=m,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.data,t=this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"\u0424\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0447\u0435\u0440\u0433\u0438 \u0437\u0430\u0434\u0430\u0447",r.a.createElement("div",{className:"float-right btn-group"},r.a.createElement(F.a,{to:"/tasks/".concat(t,"?next=").concat(window.location.pathname),className:"btn btn-primary"},"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0430\u0444"))),r.a.createElement(x,{name:"tasks",data:e,manipulationActive:!1}),r.a.createElement(V,{data:e}))}}]),t}(n.Component),z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={},e.csGraphRef=r.a.createRef(),e.tasksGraphRef=r.a.createRef(),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderGraphList",value:function(e){var t=this.props.getGraphs(e);return t?t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}):r.a.createElement("option",{disabled:!0},"\u0412\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u0433\u0440\u0430\u0444\u0438")}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-row p-2"},r.a.createElement("div",{className:"col-md"},r.a.createElement("div",null,r.a.createElement("label",{className:"h6",htmlFor:"tasks"},"\u0413\u0440\u0430\u0444 \u0437\u0430\u0434\u0430\u0447:"),r.a.createElement("div",{className:"float-right"},r.a.createElement(F.a,{className:"badge badge-light",to:"/tasks/new?next=/model"},r.a.createElement(A.a,{icon:p.e})),-1!==this.props.tasks&&r.a.createElement(F.a,{to:"/tasks/".concat(this.props.tasks,"?next=/model"),className:"badge badge-light",alt:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0438\u0439 \u0433\u0440\u0430\u0444"},r.a.createElement(A.a,{icon:p.d})))),r.a.createElement("select",{name:"tasks",id:"tasks",value:this.props.tasks,className:"form-control",onChange:this.props.handleChangeGraph},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0433\u0440\u0430\u0444 \u0437\u0430\u0434\u0430\u0447"),this.renderGraphList("tasks")),-1!==this.props.tasks&&r.a.createElement(x,{manipulationActive:!1,height:"300px",name:"tasks",data:this.props.tasksData,ref:this.tasksGraphRef})),r.a.createElement("div",{className:"col-md"},r.a.createElement("label",{className:"h6",htmlFor:"cs"},"\u0413\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438:"),r.a.createElement("div",{className:"float-right"},r.a.createElement(F.a,{to:"/cs/new?next=/model",className:"badge badge-light"},r.a.createElement(A.a,{icon:p.e})),-1!==this.props.cs&&r.a.createElement(F.a,{to:"/cs/".concat(this.props.cs,"?next=/model"),className:"badge badge-light",alt:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0438\u0439 \u0433\u0440\u0430\u0444"},r.a.createElement(A.a,{icon:p.d}))),r.a.createElement("select",{value:this.props.cs,name:"cs",id:"cs",className:"form-control",onChange:this.props.handleChangeGraph},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0433\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"),this.renderGraphList("cs")),-1!==this.props.cs&&r.a.createElement(x,{height:"300px",manipulationActive:!1,name:"cs",data:this.props.csData,ref:this.csGraphRef}))),r.a.createElement("div",{className:"form-row p-2"},r.a.createElement("div",{className:"col-md"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"queue"},"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0444\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0447\u0435\u0440\u0433\u0438 \u0437\u0430\u0434\u0430\u0447:"),r.a.createElement("select",{name:"queue",id:"queue",value:this.props.queue,className:"form-control",onChange:this.props.handleChange},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0447\u0435\u0440\u0433\u0443"),r.a.createElement("option",{value:"1",title:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u043f\u0440\u043e\u043d\u043e\u0440\u043c\u043e\u0432\u0430\u043d\u043e\u0457 \u0441\u0443\u043c\u0438 \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u0438\u0445 \u043f\u043e \u0447\u0430\u0441\u0443 \u0456\r \u043f\u043e \u043a\u0456\u043b\u044c\u043a\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043e \u043a\u0456\u043d\u0446\u044f \u0433\u0440\u0430\u0444\u0430 \u0437\u0430\u0434\u0430\u0447\u0456"},"1"),r.a.createElement("option",{value:"11",title:"\u0423 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f \u0437\u0432\u2019\u044f\u0437\u043d\u043e\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d, \u0430 \u043f\u0440\u0438 \u0440\u0456\u0432\u043d\u0438\u0445\r \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u0445 \u2013 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u043e \u0447\u0430\u0441\u0443 \u0448\u043b\u044f\u0445\u0456\u0432 \u0432\u0456\u0434\r \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0433\u0440\u0430\u0444\u0430 \u0437\u0430\u0434\u0430\u0447\u0456."},"11")))),r.a.createElement("div",{className:"col-md"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"assignmentAlgo"},"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f:"),r.a.createElement("select",{name:"assignmentAlgo",id:"assignmentAlgo",value:this.props.assignmentAlgo,className:"form-control",onChange:this.props.handleChange},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c"),r.a.createElement("option",{value:"2",title:"\u041f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u0430 \u043f\u0435\u0440\u0448\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440,\u0449\u043e \u0437\u0432\u0456\u043b\u044c\u043d\u0438\u0432\u0441\u044f. \u0423 \u0446\u044c\u043e\u043c\u0443\r \u0432\u0438\u043f\u0430\u0434\u043a\u0443, \u043f\u0440\u0438 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0456, \u0437 \u0432\u0456\u043b\u044c\u043d\u0438\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0456\u0432 \u0432\u0438\u0431\u0438\u0440\u0430\u0454\u0442\u044c\u0441\u044f\r \u0442\u043e\u0439, \u044f\u043a\u0438\u0439 \u0437\u0432\u0456\u043b\u044c\u043d\u0438\u0432\u0441\u044f \u0456 \u043f\u0440\u043e\u0441\u0442\u043e\u044e\u0454 \u0434\u043e\u0432\u0448\u0435 \u0437\u0430 \u0456\u043d\u0448\u0438\u0445."},"2"),r.a.createElement("option",{value:"6",title:"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \xab\u0441\u0443\u0441\u0456\u0434\u043d\u044c\u043e\u0433\u043e\xbb \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c\r \u043c\u043e\u0434\u0435\u043b\u044e\u0432\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u043e\u0433\u043e \u0447\u0430\u0441\u0443 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f\r \u043e\u0431\u0447\u0438\u0441\u043b\u044e\u0432\u0430\u043b\u044c\u043d\u0438\u0445 \u0440\u043e\u0431\u0456\u0442."},"6")))))))}}]),t}(n.Component),Q=function e(){Object(c.a)(this,e),this.enqueue=function(e,t){this._nodes.push({key:t,priority:e}),this.sort()},this.dequeue=function(){return this._nodes.shift().key},this.sort=function(){this._nodes.sort(function(e,t){return e.priority-t.priority})},this.isEmpty=function(){return!this._nodes.length},this._nodes=[]},$=function e(t){Object(c.a)(this,e),this.INFINITY=1/0,this.shortestPath=function(e,t){var a,n,r,s,o=new Q,c={},l={},i=[];for(n in this.vertices)n===e?(c[n]=0,o.enqueue(0,n)):(c[n]=this.INFINITY,o.enqueue(this.INFINITY,n)),l[n]=null;for(;!o.isEmpty();){if((a=o.dequeue())===t){for(i=[];l[a];)i.push(a),a=l[a];break}if(a&&c[a]!==this.INFINITY)for(r in this.vertices[a])(s=c[a]+this.vertices[a][r])<c[r]&&(c[r]=s,l[r]=a,o.enqueue(s,r))}return i},this.vertices=t},H=a(46),K=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),t}(Object(H.a)(Error)),X=a(44),Z=a.n(X),ee=1,te=2,ae=3,ne=4,re=101,se=102,oe=1,ce=function(){function e(t,a,n,r,s){var o=this;Object(c.a)(this,e),this._getColorArray=function(){var e={};return o.tasksData.nodes.forEach(function(t){var a=Object.keys(e).map(function(t){return e[t]}),n=Z.a.getColor({ignoreColors:a});e[t.id]=n}),e},this.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},this._formDependecies=function(){var e=o.tasksData.nodes,t=o.tasksData.edges,a={};return e.forEach(function(e){a[e.id]={parents:{},weight:e.weight}}),t.forEach(function(e){a[e.to].parents=Object(O.a)({},a[e.to].parents,Object(y.a)({},e.from,e.weight))}),Object.keys(a).forEach(function(e){0===Object.keys(a[e].parents).length&&(a[e].status=ee)}),a},this._prepareProcessors=function(){var e=o.csData.nodes,t={};return e.forEach(function(e){t[e.id]=Object(O.a)({},t[e.id],{status:ee,standBy:0})}),t},this._getTransmissionTact=function(e,t,a,n,r,s,c,l){c||(c=o.transmissionInfo),l||(l=o.transmissions),console.log("Transmissions: ".concat(JSON.stringify(c))),console.log("Transmissions: ".concat(JSON.stringify(l)));var i=l["".concat(r," -> ").concat(s)];console.log("Parent Transmission: ".concat(JSON.stringify(i)));var u=Math.max.apply(Math,Object(E.a)(c[e].filter(function(e){return o.connectionType===oe?e.status===re:e}).map(function(e){return e.end})).concat(Object(E.a)(c[t].filter(function(e){return o.connectionType===oe?e.status===se:e}).map(function(e){return e.end})))),m=o.transferGaps(e,t,r,c).filter(function(e){return e.interval>=n&&e.start>=a});if(console.log("Free intervals: ".concat(JSON.stringify(m))),console.log("Last ended: ".concat(JSON.stringify(u))),m.length>0){var d=!0,h=!1,p=void 0;try{for(var f,g=m[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var v=f.value;if(!i)return v.start;if(i.end<=v.start)return v.start}}catch(b){h=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}}return i?i.end>u?i.end:u:u>=a?u:a},this.transferGaps=function(e,t,a,n){n=JSON.parse(JSON.stringify(n||o.transmissionInfo));for(var r=[].concat(Object(E.a)(n[e].filter(function(e){return o.connectionType===oe?e.status===re:e})),Object(E.a)(n[t].filter(function(e){return o.connectionType===oe?e.status===se:e})),[{start:o.assignmentLog[a].started,end:o.assignmentLog[a].ended}]).slice().sort(function(e,t){return e.start>t.start?1:-1}),s=r.slice(0,1),c=1;c<r.length;c++){var l=r[c],i=s[s.length-1];l.start<=i.end?i.end=Math.max(i.end,l.end):s.push(l)}return o.findGaps(s.filter(function(e){return void 0!==e}))},this.findGaps=function(e){return e.sort(function(e,t){return e.start>t.start?1:-1}).map(function(e,t,a){if(t!==a.length-1)return{interval:a[t+1].start-e.end,start:e.end,end:a[t+1].start}}).filter(function(e){return void 0!==e})},this._makeTransmissions=function(e,t,a,n,r){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];r||(r=o.transmissions),n||(n=o.transmissionInfo);var c=o.tasks[e].parents;if(0===Object.keys(c).length)return a;var l=Object.keys(c).map(function(c){var l=o.assignmentLog[c],i=l.ended,u=l.processorId;if(u===t)return a;var m=o._getShortestPath(parseInt(u),parseInt(t));if(console.log("Path to transmit ".concat(c," to ").concat(e," from processor ").concat(u," to ").concat(t," processor: ").concat(JSON.stringify(m))),-1===m)return a;var d=[];return m.forEach(function(t,l){if(l!==m.length-1){var u=t,h=m[l+1],p=o.tasks[e].parents[c];a=o._getTransmissionTact(u,h,i,p,c,e,n,r);var f=parseInt(a),g=parseInt(a)+parseInt(p);console.warn("Transmission from ".concat(u," to ").concat(h," of task ").concat(c," starts on ").concat(f,", ends on ").concat(g)),r["".concat(c," -> ").concat(e)]={start:f,end:g},n[u].push({start:f,end:g,task:c,status:re}),n[h].push({start:f,end:g,task:c,status:se}),s||(o.result=Object(O.a)({},o.result,Object(y.a)({},"".concat(c,"->").concat(e,"(").concat(h,")"),{values:[{x:f,y:parseFloat(u)+.25},{x:g,y:parseFloat(u)+.25}],color:o.colors[c]}))),d.push(g)}}),Math.max.apply(Math,d)});return Math.max.apply(Math,Object(E.a)(l).concat([0]))},this._executeTask=function(e,t,a){var n=a;n>(a=o._makeTransmissions(e,t,a))&&(a=n),console.warn("Executting task ".concat(e," on processor ").concat(t," with a starting tact of ").concat(a)),o.assignmentLog[e]={processorId:t,started:a,ended:a+o.tasks[e].weight},o.processors[t].status=o.processors[t].status===ne?ne:te,o.processors[t].from=a,o.processors[t].to=a+o.tasks[e].weight,o.processors[t].task=e,o.tasks[e].status=te,o.queue=o.queue.filter(function(t){return t.number!==e}),o.result[e]=o.result[e]?Object(E.a)(o.result[e]):{values:[{x:a,y:parseInt(t)},{x:a+o.tasks[e].weight,y:parseInt(t)}],color:o.colors[e]}},this._getFreeProcessors=function(e,t){switch(o.algo){case"2":return o._getFreeProcessors2(e);case"6":return o._getFreeProcessors6(e,t);default:throw Error("Algo is not implemented!")}},this._getFreeProcessors6=function(e,t){var a=Object.keys(o.processors).map(function(e){return e}),n=o.tasks[t].parents;if(Object.keys(n).length<=0)return o._getFreeProcessors2(e);for(var r={},s=0;s<a.length;s++){var c=JSON.parse(JSON.stringify(o.transmissionInfo)),l=JSON.parse(JSON.stringify(o.transmissions)),i=a[s],u=o.processors[i].status===te&&o.processors[i].to?o.processors[i].to:0;r[i]=Math.max(u,o._makeTransmissions(t,i,e,c,l,!0))}console.log(JSON.stringify(r));var m=Object.keys(r).reduce(function(e,t){return r[e]<=r[t]?e:t},a[0]),d=Math.min.apply(Math,Object(E.a)(Object.values(r)));if(console.log("Min id: ".concat(m)),o.processors[m].status===te){var h=Object.keys(r).filter(function(e){return o.processors[e].status!==te&&r[e]===d});return console.log("Free: ".concat(JSON.stringify(h))),h.length<1?-2:h[0]}return m},this._getFreeProcessors2=function(e){var t=Object.keys(o.processors).filter(function(t){var a=o.processors[t];return a.status===ee||a.status===ne&&a.to<=e});if(0===t.length)return-1;var a=-1,n=0;return Object.values(t).forEach(function(e){var t=o.processors[e];t.standBy>a&&(a=t.standBy,n=e)}),n},this._getReadyTasks=function(){var e=o.queue.filter(function(e){var t=e.number,a=o.tasks[t];if(0===Object.keys(a.parents).length)return a.status===ee;var n=[];return Object.keys(a.parents).forEach(function(e){n.push(o.tasks[e].status===ae||o.tasks[e].status===ne)}),n.every(function(e){return e})});return e=e.map(function(e){return e.number})},this._checkFinish=function(e){Object.keys(o.processors).forEach(function(t){var a=o.processors[t];a.status!==te&&a.status!==ne||a.to===e&&(console.log("Task ".concat(a.task," finished on ").concat(t)),a.status=a.status===ne?ne:ee,a.standBy=0,o.tasks[a.task].status=ae)})},this._processorsStandBy=function(){Object.keys(o.processors).forEach(function(e){var t=o.processors[e];t.status!==ee&&t.status!==ne||o.processors[e].standBy++})},this.model=function(){for(var e=0;0!==o.queue.length;){e++,console.warn("Tact: ".concat(e)),console.log("Processors: ".concat(JSON.stringify(o.processors))),console.log("Tasks: ".concat(JSON.stringify(o.tasks))),console.log("Queue: ".concat(JSON.stringify(o.queue))),console.log("Transmission: ".concat(JSON.stringify(o.transmissionInfo))),o._checkFinish(e);var t=o._getReadyTasks();console.log("Ready tasks: ".concat(JSON.stringify(t)));try{if(0===t.length)throw new K("No tasks available!");var a=!0,n=!1,r=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value,i=o._getFreeProcessors(e,l);if(console.log("Selected processor: ".concat(i)),-1===i)throw new K("No free processors");-2!==i?o._executeTask(l,i,e):console.warn("Processor is busy! Waiting...")}}catch(u){n=!0,r=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}}catch(m){if(!(m instanceof K))throw m;console.error(m.message)}finally{o._processorsStandBy()}}return{result:o.result,tasks:o.tasks}},this.tasksData=t,this.csData=a,this.queue=n,this.algo=r,this.connectionType=parseInt(s),this.tasks=this._formDependecies(),this.processors=this._prepareProcessors(),this.result={},this.assignmentLog={},this.tasksOnProcessors={},this.colors=this._getColorArray(),this.transmissionInfo={},this.transmissions={},Object.keys(this.processors).forEach(function(e){o.tasksOnProcessors[e]=[],o.transmissionInfo[e]=[]})}return Object(l.a)(e,[{key:"_toEdgesArray",value:function(){var e=this.csData.edges,t={};return e.forEach(function(e){t["".concat(e.from)]=Object(O.a)({},t[e.from],Object(y.a)({},e.to,1)),t["".concat(e.to)]=Object(O.a)({},t[e.to],Object(y.a)({},e.from,1))}),t}},{key:"_getShortestPath",value:function(e,t){if(e===t)return[e];var a=new $(this._toEdgesArray()).shortestPath("".concat(e),"".concat(t)).concat(e).reverse();return 0===a.length?-1:a}}]),e}(),le=(a(65),function(){function e(t,a,n,r){Object(c.a)(this,e),this.result=t,this.queue=a,this.weights=n,this.csLength=r}return Object(l.a)(e,[{key:"getStats",value:function(){var e=this,t=Math.max.apply(Math,Object(E.a)(Object.keys(this.result).map(function(t){return Math.max.apply(Math,Object(E.a)(e.result[t].values.map(function(e){return e.x})))})))-1,a=Object.keys(this.weights).map(function(t){return e.weights[t].weight}).reduce(function(e,t){return e+t}),n=this.queue.BFS().maxPaths,r=Math.max.apply(Math,Object(E.a)(Object.keys(n).map(function(t){return n[t].map(function(t){return e.weights[t].weight}).reduce(function(e,t){return e+t})})));isFinite(r)||(r=Math.max.apply(Math,Object(E.a)(Object.keys(this.weights).map(function(t){return e.weights[t].weight}))));var s=a/t,o=s/this.csLength,c=r/t;return{stats:{coefAccelaration:{value:s.toFixed(2),title:"\u041a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u043f\u0440\u0438\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u044f"},efficiency:{value:o.toFixed(2),title:"\u041a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"},algoEfficiency:{value:c.toFixed(2),title:"\u041a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0443 \u043f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}},info:{executionTimeMulti:{value:t,title:"\u0427\u0430\u0441 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043d\u0430 \u041a\u0421"},executionTimeOne:{value:a,title:"\u0427\u0430\u0441 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u043b\u0456\u0434\u043e\u0432\u043d\u043e"},graphCritical:{value:r,title:"\u041a\u0440\u0438\u0442\u0438\u0447\u043d\u0438\u0439 \u0447\u0430\u0441 \u0433\u0440\u0430\u0444\u0443"}}}}}]),e}()),ie=a(18),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={},a.renderLines=function(e){return Object.keys(e).map(function(t){var a=e[t];return r.a.createElement(ie.c,{data:a.values,key:t,color:a.color,strokeWidth:3.5,animation:"nowobble",strokeDasharray:t.length>3?[7,3]:[]})})},a.renderLabels=function(e){return Object.keys(e).map(function(t){var a=e[t],n=a.values[0],s=a.values[1],o=n.x+(s.x-n.x)/2,c=n.y+.1;return r.a.createElement(ie.b,{data:[{x:o,y:c,label:t}],style:{fontSize:"8pt"},key:t,labelAnchorY:"auto","labelAnchor\u0425":"auto"})})},a.renderProcessorsLines=function(e){return a.props.cs.nodes.map(function(t){return r.a.createElement(ie.d,{data:[{x:.5,y:t.id},{x:a.getMax(e),y:t.id}],key:t.id,color:"#d1d1d1",strokeWidth:4})})},a.getMax=function(e){var t;return Math.max.apply(Math,Object(E.a)((t=[]).concat.apply(t,Object(E.a)(Object.values(e))).map(function(e){return e.values[1].x})))+.5},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cs,a=e.resultMulti;return r.a.createElement("div",{style:{overflow:"auto",whiteSpace:"nowrap"}},r.a.createElement(ie.g,{className:"my-4",height:600,width:65*this.getMax(a),xType:"linear",yType:"linear",xDomain:[.5,this.getMax(a)],yDomain:[Math.min.apply(Math,Object(E.a)(t.nodes.map(function(e){return e.id})))-.5,Math.max.apply(Math,Object(E.a)(t.nodes.map(function(e){return e.id})))+.5]},r.a.createElement(ie.a,null),r.a.createElement(ie.e,null),r.a.createElement(ie.f,{title:"\u0422\u0430\u043a\u0442",position:"end"}),r.a.createElement(ie.h,{title:"\u041f\u0415",position:"end",tickValues:Object(E.a)(t.nodes.map(function(e){return e.id})),tickFormat:function(e){return parseFloat(e).toFixed(0)}}),this.renderProcessorsLines(a),this.renderLines(a),this.renderLabels(a)))}}]),t}(n.Component),me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.clear();var e=this.props,t=e.tasks,a=e.cs,n=e.queue,s=e.assignmentAlgo,o=e.connectionType,c=new B(parseInt(n),t),l=c.run(),i=new ce(t,a,l,s,o).model(),u=i.result,m=i.tasks,d=new le(u,c,m,a.nodes.length).getStats(),h=d.stats,p=d.info;return u?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"h5"},"\u0427\u0435\u0440\u0433\u0430 \u0437\u0430\u0434\u0430\u0447:"),r.a.createElement("div",null,Object.values(l).map(function(e){return e.number}).join(", ")),r.a.createElement(ue,{resultMulti:u,cs:a}),r.a.createElement("hr",null),r.a.createElement("h6",{className:"h6"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u043d\u0456 \u0434\u0430\u043d\u0456:"),r.a.createElement("ul",null,Object.keys(p).map(function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("li",null,p[e].title,": ",r.a.createElement("b",null,p[e].value)))})),r.a.createElement("hr",null),r.a.createElement("h6",{className:"h6"},"\u041a\u043e\u0435\u0444\u0456\u0446\u0456\u0454\u043d\u0442\u0438:"),r.a.createElement("ol",null,Object.keys(h).map(function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("li",null,h[e].title,": ",r.a.createElement("b",null,h[e].value)))}))):r.a.createElement("div",null)}}]),t}(n.Component),de=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:-1,cs:-1,queue:-1,connectionType:2,assignmentAlgo:-1},a.getGraphs=function(e){var t=localStorage.getItem(e);if(t)return t=JSON.parse(t)},a.getById=function(e,t){return e.filter(function(e){return e.id===t})[0]},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleChangeGraph=function(e){var t;a.setState((t={},Object(y.a)(t,e.target.name,e.target.value),Object(y.a)(t,"".concat(e.target.name,"Data"),a.getById(a.getGraphs(e.target.name),e.target.value).data),t))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.queue,n=e.cs,s=e.assignmentAlgo,o=e.tasksData,c=e.csData,l=e.connectionType;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{handleChange:this.handleChange,handleChangeGraph:this.handleChangeGraph,tasks:t,cs:n,queue:a,connectionType:l,assignmentAlgo:s,getGraphs:this.getGraphs,tasksData:o,csData:c}),r.a.createElement("hr",null),!(-1===t||-1===n||-1===a||-1===s||-1===l)&&r.a.createElement(me,{tasks:{nodes:new k.DataSet(o.nodes),edges:new k.DataSet(o.edges)},cs:{nodes:new k.DataSet(c.nodes),edges:new k.DataSet(c.edges)},queue:a,connectionType:l,assignmentAlgo:s}))}}]),t}(n.Component),he=a(28),pe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).queues=[1,11],a.models=["2","6"],a.state={startCorrelation:.5,endCorrelation:.9,stepCorrelation:5,minVertexNumb:-1,stepVertexNumb:10,maxWeight:10,minWeight:1,graphCount:2,cs:-1},a.getGraphs=function(e){var t=localStorage.getItem(e);if(t)return t=JSON.parse(t)},a.getById=function(e,t){return e.filter(function(e){return e.id===t})[0]},a.handleChangeGraph=function(e){var t,n=a.getById(a.getGraphs(e.target.name),e.target.value).data;a.setState((t={},Object(y.a)(t,e.target.name,e.target.value),Object(y.a)(t,"".concat(e.target.name,"Data"),n),Object(y.a)(t,"minVertexNumb",n.nodes.length),Object(y.a)(t,"stepVertexNumb",n.nodes.length),t))},a.generate=function(){for(var e=[],t=a.state,n=t.graphCount,r=t.maxWeight,s=t.minWeight,o=t.minVertexNumb,c=t.stepVertexNumb,l=t.startCorrelation,i=t.endCorrelation,u=t.stepCorrelation,m=t.csData,d=o,h=(parseFloat(i)-parseFloat(l))/(parseFloat(u)-1),p=Array(Math.floor(u)).fill().map(function(e,t){return parseFloat(l)+t*parseFloat(h)}),f=0;f<n;f++){var g=!0,v=!1,b=void 0;try{for(var E,y=p[Symbol.iterator]();!(g=(E=y.next()).done);g=!0){var N=E.value,k=new M(d,r,s,N).generate(),w=k.nodes,j=k.edges,x=!0,C=!1,S=void 0;try{for(var _,D=a.queues[Symbol.iterator]();!(x=(_=D.next()).done);x=!0){var I=_.value,T=new B(I,{nodes:w,edges:j}),F=T.run(),A=!0,G=!1,R=void 0;try{for(var J,W=a.models[Symbol.iterator]();!(A=(J=W.next()).done);A=!0){var q=J.value,P=new ce({nodes:w,edges:j},m,F,q,2).model(),L=P.result,U=P.tasks,V=new le(L,T,U,m.nodes.length).getStats(),Y=V.stats,z=V.info.executionTimeMulti;e.push({nodesCount:w.length,correlation:{title:"\u0417\u0432'\u044f\u0437\u043d\u0456\u0441\u0442\u044c",value:N},algo:{queue:I,assign:q,value:"".concat(q," (").concat(I,")")},renderInfo:Object(O.a)({},Y,{executionTimeMulti:z,modellingInfo:{title:"\u0414\u0456\u0430\u0433\u0440\u0430\u043c\u0430 \u0413\u0430\u043d\u0442\u0430",value:L}}),data:{nodes:w,edges:j}})}}catch(Q){G=!0,R=Q}finally{try{A||null==W.return||W.return()}finally{if(G)throw R}}}}catch(Q){C=!0,S=Q}finally{try{x||null==D.return||D.return()}finally{if(C)throw S}}}}catch(Q){v=!0,b=Q}finally{try{g||null==y.return||y.return()}finally{if(v)throw b}}d+=c}return e},a.csGraphRef=r.a.createRef(),a.tasksGraphRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderGraphList",value:function(e){var t=this.getGraphs(e);return t?t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}):r.a.createElement("option",{disabled:!0},"\u0412\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u0433\u0440\u0430\u0444\u0438")}},{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,parseFloat(e.target.value)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.openedGraph,n=t.openedModel,s=t.graphCount,o=t.result,c=t.startCorrelation,l=t.endCorrelation,i=t.stepCorrelation,u=t.minWeight,m=t.maxWeight,d=t.minVertexNumb,h=t.stepVertexNumb;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"my-2"},r.a.createElement("h5",null,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0431\u043b\u0438\u0446\u0456"),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u0413\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438:")),r.a.createElement("select",{value:this.state.cs,name:"cs",id:"cs",className:"form-control",onChange:this.handleChangeGraph},r.a.createElement("option",{value:"-1",disabled:!0},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0433\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"),this.renderGraphList("cs")),r.a.createElement(x,{height:"300px",manipulationActive:!1,name:"cs",data:this.state.csData,ref:this.csGraphRef})),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0430 \u0437\u0432'\u044f\u0437\u043d\u0456\u0441\u0442\u044c:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",step:"0.05",max:"1",min:"0",name:"startCorrelation",value:c,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0437\u0432'\u044f\u0437\u043d\u0456\u0441\u0442\u044c:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",step:"0.05",max:"1",min:c,name:"endCorrelation",value:l,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043a\u0440\u043e\u043a\u0456\u0432 \u0437\u043c\u0456\u043d\u0438 \u0437\u0432'\u044f\u0437\u043d\u043e\u0441\u0442\u0456:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"stepCorrelation",value:i,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0430 \u043a-\u0441\u0442\u044c \u0432\u0435\u0440\u0448\u0438\u043d:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"minVertexNumb",value:d,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041a\u0440\u043e\u043a \u043d\u0430\u0440\u043e\u0449\u0435\u043d\u043d\u044f \u043a-\u0441\u0442\u0456 \u0432\u0435\u0440\u0448\u0438\u043d:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"stepVertexNumb",value:h,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430 \u0437\u0430\u0434\u0430\u0447\u0456:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"minWeight",value:u,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430 \u0437\u0430\u0434\u0430\u0447\u0456:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"maxWeight",value:m,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0433\u0440\u0430\u0444\u0456\u0432:")),r.a.createElement("input",{type:"number",className:"form-control",autoComplete:"off",name:"graphCount",value:s,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"\r \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044e",disabled:-1===this.state.cs,onClick:function(t){return e.onGenerate(t)}}))),o&&Object(E.a)(new Set(o.map(function(e){return e.nodesCount}))).map(function(t,a){return e.renderTable(o.filter(function(e){return e.nodesCount===t}),a)}),r.a.createElement("div",{className:"modal fade bd-example-modal-lg",id:"graphModal",tabindex:"-1",role:"dialog","aria-labelledby":"graphModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"graphModalLabel"},"\u0417\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u0433\u0440\u0430\u0444"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(x,{height:"300px",manipulationActive:!1,name:"tasks",data:a,ref:this.tasksGraphRef})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"))))),r.a.createElement("div",{className:"modal fade bd-example-modal-lg",id:"modellingModal",tabindex:"-1",role:"dialog","aria-labelledby":"modellingModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"modellingModalLabel"},"\u0414\u0456\u0430\u0433\u0440\u0430\u043c\u0430 \u0413\u0430\u043d\u0442\u0430"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},n&&r.a.createElement(ue,{resultMulti:n,cs:this.state.csData})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"))))))}},{key:"renderTable",value:function(e,t){var a=this,n={};Object.keys(e[0]).forEach(function(t){var a=e.map(function(e){if(e[t].value)return e[t].value}),r=Math.max.apply(Math,Object(E.a)(a)),s=Math.min.apply(Math,Object(E.a)(a)),o="executionTimeMulti"===t||"executionTimeOne"===t;n[t]={max:o?s:r,min:o?r:s}});var s=Object(E.a)(new Set(e.map(function(e){return e.correlation.value}))),o=Object(E.a)(new Set(e.map(function(e){return e.algo.value}))).sort(function(e,t){return e>t?1:-1});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"\u0422\u0430\u0431\u043b\u0438\u0446\u044f \u0434\u043b\u044f \u0433\u0440\u0430\u0444\u0443 \u0437\u0430\u0434\u0430\u0447 \u0437 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044e \u0437\u0430\u0434\u0430\u0447: ".concat(e[0].nodesCount)),r.a.createElement("table",{className:"table table-sm table-responsive-xl table-bordered py-2",key:t},r.a.createElement("thead",{className:"thead-light text-center"},r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:"2",style:{verticalAlign:"middle",textAlign:"center"}},"\u0417\u0432'\u044f\u0437\u043d\u0456\u0441\u0442\u044c"),r.a.createElement("th",{rowSpan:"2",style:{verticalAlign:"middle",textAlign:"center"}},"\u041f\u043e\u043a\u0430\u0437\u043d\u0438\u043a"),r.a.createElement("th",{colSpan:o.length,style:{verticalAlign:"middle",textAlign:"center"}},"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c")),r.a.createElement("tr",null,o.map(function(e,t){return r.a.createElement("th",{key:t},e)}))),r.a.createElement("tbody",null,s.map(function(t){var n=e.filter(function(e){return e.correlation.value===t}),s=Object(E.a)(Object(he.a)(Set,Object(E.a)(n.map(function(e){return Object.keys(e.renderInfo)}))));return s.map(function(e,c){return r.a.createElement("tr",null,0===c&&r.a.createElement("td",{rowSpan:s.length,className:"text-center",style:{verticalAlign:"middle",textAlign:"center"}},r.a.createElement("p",null,r.a.createElement("p",null,t.toFixed(2)),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return a.setState({openedGraph:n[0].data})},"data-toggle":"modal","data-target":"#graphModal"},r.a.createElement(A.a,{icon:p.b}),"   ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0433\u0440\u0430\u0444"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{style:{verticalAlign:"middle"}},n[0].renderInfo[e].title),o.map(function(t){var s=n.filter(function(e){return e.algo.value===t})[0].renderInfo[e].value;return"modellingInfo"===e?r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return a.setState({openedModel:s})},"data-toggle":"modal","data-target":"#modellingModal"},r.a.createElement(A.a,{icon:p.b}))):r.a.createElement("td",{className:"text-center"},s)})))})}))))}},{key:"onGenerate",value:function(e){e.preventDefault(),this.setState({result:void 0});var t=this.generate();this.setState({result:t})}}]),t}(n.Component),fe=function(){return r.a.createElement("div",{className:"container my-4"},r.a.createElement(v.a,null,r.a.createElement(b.a,{exact:!0,key:"home-page",path:"/",render:function(){return document.title="\u041f\u0417\u041a\u0421 - 2",r.a.createElement(q,null)}}),r.a.createElement(b.a,{key:"tasks-graphs",exact:!0,path:"/tasks",render:function(){return document.title="\u0413\u0440\u0430\u0444\u0438 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(W,{name:"tasks",title:"\u0413\u0440\u0430\u0444\u0438 \u0437\u0430\u0434\u0430\u0447"})}}),r.a.createElement(b.a,{exact:!0,path:"/tasks/new",render:function(){document.title="\u041d\u043e\u0432\u0438\u0439 \u0433\u0440\u0430\u0444 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2"},component:function(){return r.a.createElement(T,{name:"tasks"})}}),r.a.createElement(b.a,{path:"/tasks/:id",exact:!0,type:"task",render:function(e){return document.title="\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(T,{name:"tasks",id:e.match.params.id})}}),r.a.createElement(b.a,{path:"/tasks/:id*/queue",exact:!0,type:"task",render:function(e){return document.title="\u0424\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0447\u0435\u0440\u0433\u0438 \u0437\u0430\u0434\u0430\u0447 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(Y,{id:e.match.params.id})}}),r.a.createElement(b.a,{key:"cs-graphs",exact:!0,path:"/cs",render:function(){return document.title="\u0413\u0440\u0430\u0444\u0438 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(W,{name:"cs",title:"\u0413\u0440\u0430\u0444\u0438 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"})}}),r.a.createElement(b.a,{exact:!0,path:"/cs/new",render:function(){return document.title="\u041d\u043e\u0432\u0438\u0439 \u0433\u0440\u0430\u0444 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(T,{name:"cs"})}}),r.a.createElement(b.a,{path:"/cs/:id",type:"task",render:function(e){return document.title="\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0433\u0440\u0430\u0444\u0443 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(T,{name:"cs",id:e.match.params.id})}}),r.a.createElement(b.a,{path:"/model",exact:!0,render:function(){return document.title="\u041c\u043e\u0434\u0435\u043b\u044e\u0432\u0430\u043d\u043d\u044f | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(de,null)}}),r.a.createElement(b.a,{path:"/stats",exact:!0,render:function(){return document.title="\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 | \u041f\u0417\u041a\u0421 - 2",r.a.createElement(pe,null)}})))};a(75);h.b.add(p.c);var ge=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/pzks2"},r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(fe,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);